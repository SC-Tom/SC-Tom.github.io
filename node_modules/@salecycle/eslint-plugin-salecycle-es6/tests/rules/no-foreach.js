const rule = require('../../lib/no-foreach');
const RuleTester = require('eslint').RuleTester;

const ruleTester = new RuleTester();
ruleTester.run('no-foreach', rule, {
  valid: [{
    code: 'const api = { collections: { forEach: (e) => { console.log(e); }}};api.collections.forEach(array, value => { sum += value; });',
    parserOptions: { ecmaVersion: 6, sourceType: 'module' }
  }, {
    code: 'const collections = { forEach: (e) => { console.log(e); }}; collections.forEach(array, value => { sum += value; });',
    parserOptions: { ecmaVersion: 6, sourceType: 'module' }
  }],
  invalid: [{
    code: 'var arr = [1, 2, 3]; arr.forEach',
    errors: [{
      message: 'forEach is not cross browser compatible.',
      type: 'MemberExpression'
    }]
  }]
});
