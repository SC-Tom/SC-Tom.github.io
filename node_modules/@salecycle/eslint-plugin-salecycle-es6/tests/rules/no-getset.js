const rule = require('../../lib/no-getset');
const RuleTester = require('eslint').RuleTester;

const ruleTester = new RuleTester();
ruleTester.run('no-getset', rule, {
  valid: [],
  invalid: [{
    code: 'var o = { set current (str) { this.log[this.log.length] = str;}, log: [] }',
    errors: [{
      message: 'getters/setters are not allowed.',
      type: 'Property'
    }]
  }, {
    code: 'var obj = { get latest () { if (log.length == 0) return undefined; return log[log.length - 1] } }',
    errors: [{
      message: 'getters/setters are not allowed.',
      type: 'Property'
    }]
  }]
});
